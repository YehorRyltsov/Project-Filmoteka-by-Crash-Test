{"mappings":"AACA,IAAMA,KAAO,CACTC,cAAeC,SAASC,cAAc,qBACtCC,cAAeF,SAASC,cAAc,sBACtCE,MAAOH,SAASC,cAAc,gBAC9BG,KAAKJ,SAASC,cAAe,QAG7BI,eAAeL,SAASC,cAAc,eACtCK,eAAeN,SAASC,cAAc,mBACtCM,cAAcP,SAASC,cAAc,gBAKrCO,eAAeR,SAASC,cAAc,iBACtCQ,eAAeT,SAASC,cAAc,kBAMxC,SAASS,kBACPZ,KAAKK,MAAMQ,UAAUC,OAAO,aAC5Bd,KAAKM,KAAKO,UAAUE,IAAI,aAExBf,KAAKK,MAAMW,iBAAiB,QAASC,iBACrCC,OAAOF,iBAAiB,UAAWG,mBAGnCC,iB,CAKF,SAASC,mBACPrB,KAAKK,MAAMQ,UAAUE,IAAI,aACzBf,KAAKM,KAAKO,UAAUC,OAAO,aAE3Bd,KAAKK,MAAMiB,oBAAoB,QAASL,iBACxCC,OAAOI,oBAAoB,UAAWH,kB,CAK1C,SAASF,gBAAgBM,GACnBA,EAAMC,SAAWD,EAAME,eACzBJ,kB,CAIJ,SAASF,kBAAkBI,GACN,WAAfA,EAAMG,MACRL,kB,CAIJ,SAASD,gBAAgBO,GAEvB,IAAMC,EAAU,GAGZC,EAUAD,EATFE,qBAAa,IAAAD,EAAG,8BAA6BA,EAC7CE,EAQEH,EARFG,MAKSC,EAGPJ,EAFFK,gBAAQ,IAAAD,EAAG,kDAAiDA,EAI9DhC,KAAKO,eAAe2B,IAAMJ,EAC1B9B,KAAKQ,eAAe2B,aAAeJ,EACnC/B,KAAKW,eAAeyB,YAAcH,C,CA6DpC,SAASI,iBAAiBC,GACTA,EAAKC,K,CAvHpBvC,KAAKC,cAAce,iBAAiB,QAASJ,iBAC7CZ,KAAKI,cAAcY,iBAAiB,QAASK","sources":["src/js/modal-review.js"],"sourcesContent":["\nconst refs = {\n    openModalCard: document.querySelector(\"[data-modal-open]\"),\n    closeModalBtn: document.querySelector(\"[data-modal-close]\"),\n    modal: document.querySelector(\"[data-modal]\"),\n    body:document.querySelector (\"body\"),\n\n\n    modalImgReview:document.querySelector('#img-review'),\n    captionImgText:document.querySelector('#caption-review'),\n    voteImgReview:document.querySelector('#vote-review'),\n    // votesImgReview:document.querySelector('#votes-review-review'),\n    // popularityImgReview:document.querySelector('#popularity-review'),\n    // popularityImgReview:document.querySelector('#popularity-review'),\n\n    genreImgReview:document.querySelector('#genre-review'),\n    aboutImgReview:document.querySelector('#about-review'),\n  };\n\n  refs.openModalCard.addEventListener(\"click\", openModalReview);\n  refs.closeModalBtn.addEventListener(\"click\", closeModalReview);\n\n  function openModalReview() {\n    refs.modal.classList.remove(\"is-hidden\");\n    refs.body.classList.add(\"no-scroll\");\n\n    refs.modal.addEventListener('click', onBackdropClick);\n    window.addEventListener('keydown', onEscKeyPressExit);\n\n\n    getIdCardReview();\n\n\n  }\n\n  function closeModalReview(){\n    refs.modal.classList.add(\"is-hidden\");\n    refs.body.classList.remove(\"no-scroll\");\n\n    refs.modal.removeEventListener('click', onBackdropClick);\n    window.removeEventListener('keydown', onEscKeyPressExit);\n\n  \n  }\n\nfunction onBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    closeModalReview();\n  }\n}\n\nfunction onEscKeyPressExit(event) {\n  if (event.code === 'Escape') {\n    closeModalReview();\n  }\n}\n\nfunction getIdCardReview(e){\n  // const returnObj = e.currentTarget;\n  const returnObj={};\n\n  const {\n    id,\n    backdrop_path = './images/imgModalReview.jpg',\n    title,\n    vote_average = '10',\n    vote_count = '10',\n    popylarity,\n    original_title,\n    genre_ids,\n    overview = 'An excellent film and worthy of your attention!',\n\n  } = returnObj;\n\n  refs.modalImgReview.src = backdrop_path;\n  refs.captionImgText.textContentL = title;\n  refs.aboutImgReview.textContent = overview;\n\n\n  // refs.modal.innerHTML = returnObj.map(film =>{\n  //   return `\n  //   <div class=\"modal-review\">\n  //   <button\n  //     type=\"button\"\n  //     class=\"review__btn-close\"\n  //     data-modal-close\n  //     aria-label=\"Close\"\n  //   >\n  //     <svg width=\"30\" height=\"30\">\n  //       <use href=\"./images/icons.svg#close\"></use>\n  //     </svg>\n  //   </button>\n  //   <div class=\"modal-review__body\">\n  //     <div class=\"modal-review__card\">\n  //       <img class=\"modal-review__content\" id=\"img-review\" />\n  //     </div>\n  //     <div>\n  //       <h2 class=\"modal-review__title\" id=\"caption-review\">A FISTFUL OF LEAD</h2>\n  //       <ul class=\"modal-review__items\">\n  //         <li class=\"modal-review__item list\">Vote / Votes</li>\n  //         <p class=\"modal-review__item--grid\">\n  //           <span class=\"modal-review__item--rating\" id=\"vote-review\"> 7.3 </span>\n  //           <span class=\"modal-review__slash\"> / </span>\n  //           <span class=\"modal-review__item--dark\"  id=\"votes-review\"> 1260 </span>\n  //         </p>\n  //         <li class=\"modal-review__item list\">Popularity</li>\n  //         <p class=\"modal-review__item--dark\" id=\"popularity-review\">100.2</p>\n  //         <li class=\"modal-review__item list\">Original Title</li>\n  //         <p class=\"modal-review__item--dark\" id=\"title-review\">A FISTFUL OF LEAD</p>\n  //         <li class=\"modal-review__item list\">Genre</li>\n  //         <p class=\"modal-review__item--dark\" id=\"genre-review\">Western</p>\n  //       </ul>\n  //       <p class=\"modal-review__subtitle\">About</p>\n  //       <p class=\"modal-review__about\" id=\"about-review\">\n  //         <!-- Four of the West’s most infamous outlaws assemble to steal a huge\n  //         stash of gold from the most corrupt settlement of the gold rush towns.\n  //         But not all goes to plan one is killed and the other three escapes\n  //         with bags of gold hide out in the abandoned gold mine where they\n  //         happen across another gang of three – who themselves were planning to\n  //         hit the very same bank! As tensions rise, things go from bad to worse\n  //         as they realise the bags of gold are filled with lead... they’ve been\n  //         double crossed – but by who and how? -->\n  //       </p>\n  //       <div class=\"modal-review__btn-container\">\n  //         <button type=\"button\" class=\"modal-review__btn\">\n  //           add to Watched\n  //         </button>\n  //         <button type=\"button\" class=\"modal-review__btn\">add to queue</button>\n  //       </div>\n  //   `\n  // })\n  // .join('');\n\n  // renderCardReview();\n\n}\n\nfunction renderCardReview(film){\n  const markup = film.map() \n\n}\n\n\n//   const load = key => {\n//     try {\n//           const serializedState = localStorage.getItem(key);\n//           return serializedState === null ? undefined : JSON.parse(serializedState);\n//     } catch (error) {\n//           console.error(\"Get state error: \", error.message);\n//     }\n// } \n\n// refs.form.addEventListener('input', throttle(e => {\n\n// let parseFormData = localStorage.getItem(STORAGE_KEY);\n\n// if (parseFormData) {\n//     parseFormData = load(STORAGE_KEY);\n// } else {\n//     parseFormData = {};\n// }\n\n// parseFormData[e.target.name] = e.target.value;\n// localStorage.setItem(STORAGE_KEY, JSON.stringify(parseFormData));\n\n// }, 500));\n\n\n// var userDeviceRef = db.collection(\"USERS\").doc(data.uid);\n// userDeviceRef.get().then(function(doc){\n//     if (doc.exists) {\n//         console.log(\"Document data:\", doc.data());\n//         console.log(\"document customdata foo: \" + doc.data().DEVICES.ID);\n//     }\n// }\n// data.uid возвращает правильное значение. значение идентификатора документа. \n// doc.data() возвращает все поля и его дочерние doc.data() в формате строки\n\n\n// db.collection('name_of_collection').get().then((snapshot) => {\n//   snapshot.docs.forEach(doc => {\n//       console.log(doc.data());\n//   });\n// })"],"names":["refs","openModalCard","document","querySelector","closeModalBtn","modal","body","modalImgReview","captionImgText","voteImgReview","genreImgReview","aboutImgReview","openModalReview","classList","remove","add","addEventListener","onBackdropClick","window","onEscKeyPressExit","getIdCardReview","closeModalReview","removeEventListener","event","target","currentTarget","code","e","returnObj","_backdrop_path","backdrop_path","title","_overview","overview","src","textContentL","textContent","renderCardReview","film","map"],"version":3,"file":"index.e50a64f0.js.map"}